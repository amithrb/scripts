{"description":"ggplot-Multiplot","files":{"part1.R":{"content":"#Multiple plot function\n#\n# ggplot objects can be passed in ..., or to plotlist (as a list of ggplot objects)\n# - cols:   Number of columns in layout\n# - layout: A matrix specifying the layout. If present, 'cols' is ignored.\n#\n# If the layout is something like matrix(c(1,2,3,3), nrow=2, byrow=TRUE),\n# then plot 1 will go in the upper left, 2 will go in the upper right, and\n# 3 will go all the way across the bottom.\n#\nmultiplot <- function(..., plotlist=NULL, file, cols=1, layout=NULL) {\n  library(grid)\n\n  # Make a list from the ... arguments and plotlist\n  plots <- c(list(...), plotlist)\n\n  numPlots = length(plots)\n\n  # If layout is NULL, then use 'cols' to determine layout\n  if (is.null(layout)) {\n    # Make the panel\n    # ncol: Number of columns of plots\n    # nrow: Number of rows needed, calculated from # of cols\n    layout <- matrix(seq(1, cols * ceiling(numPlots/cols)),\n                    ncol = cols, nrow = ceiling(numPlots/cols))\n  }\n\n if (numPlots==1) {\n    print(plots[[1]])\n\n  } else {\n    # Set up the page\n    grid.newpage()\n    pushViewport(viewport(layout = grid.layout(nrow(layout), ncol(layout))))\n\n    # Make each plot, in the correct location\n    for (i in 1:numPlots) {\n      # Get the i,j matrix positions of the regions that contain this subplot\n      matchidx <- as.data.frame(which(layout == i, arr.ind = TRUE))\n\n      print(plots[[i]], vp = viewport(layout.pos.row = matchidx$row,\n                                      layout.pos.col = matchidx$col))\n    }\n  }\n}"},"part2.R":{"content":"library(ggplot2)\n\n# This example uses the ChickWeight dataset, which comes with ggplot2\n# First plot\np1 <- ggplot(ChickWeight, aes(x=Time, y=weight, colour=Diet, group=Chick)) +\n    geom_line() +\n    ggtitle(\"Growth curve for individual chicks\")\n\n# Second plot\np2 <- ggplot(ChickWeight, aes(x=Time, y=weight, colour=Diet)) +\n    geom_point(alpha=.3) +\n    geom_smooth(alpha=.2, size=1) +\n    ggtitle(\"Fitted growth curve per diet\")\n\n# Third plot\np3 <- ggplot(subset(ChickWeight, Time==21), aes(x=weight, colour=Diet)) +\n    geom_density() +\n    ggtitle(\"Final weight, by diet\")\n\n# Fourth plot\np4 <- ggplot(subset(ChickWeight, Time==21), aes(x=weight, fill=Diet)) +\n    geom_histogram(colour=\"black\", binwidth=50) +\n    facet_grid(Diet ~ .) +\n    ggtitle(\"Final weight, by diet\") +\n    theme(legend.position=\"none\")        # No legend (redundant in this graph)    \n    \n\nmultiplot(p1, p2, p3, p4, cols=2)\n#> Loading required package: grid\n#> geom_smooth: method=\"auto\" and size of largest group is <1000, so using loess. Use 'method = x' to change the smoothing method."},"scratch.R":{"content":"# keep snippets here while working with your notebook's cells"}}}